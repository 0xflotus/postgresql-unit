-- type definition

ALTER FUNCTION unit_in(cstring)
	SET search_path = @extschema@;

-- prefix/unit definition tables

CREATE TABLE unit_prefixes (
	prefix varchar(32) PRIMARY KEY,
	factor double precision NOT NULL,
	definition text NOT NULL
);

COPY unit_prefixes FROM '@MODULEDIR@/unit_prefixes.data';

CREATE TABLE unit_units (
	name varchar(32) PRIMARY KEY,
	unit unit NOT NULL,
	definition text NOT NULL
);

COPY unit_units FROM '@MODULEDIR@/unit_units.data';

-- operators

ALTER FUNCTION unit_at(unit, cstring)
	SET search_path = @extschema@;

-- internal functions

CREATE FUNCTION unit_is_hashed(cstring)
	RETURNS bool
	AS '$libdir/unit'
	LANGUAGE C VOLATILE STRICT;
